{% extends "base.html" %}
{% block content %}
<h1>User Management</h1>

<div class="dashboard-summary">
  <div class="dashboard-card" style="width: 100%;">
    <h3>Registered Users</h3>
    {% if users %}
    <table style="width: 100%; border-collapse: collapse;">
      <thead>
        <tr style="background-color: #f9f9f9;">
          <th style="padding: 10px; border: 1px solid #ccc;">#</th>
          <th style="padding: 10px; border: 1px solid #ccc;">Username</th>
          <th style="padding: 10px; border: 1px solid #ccc;">Email</th>
          <th style="padding: 10px; border: 1px solid #ccc;">Role</th>
          <th style="padding: 10px; border: 1px solid #ccc;">Registered On</th>
          <th style="padding: 10px; border: 1px solid #ccc;">Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for user in users %}
        <tr>
          <td style="padding: 10px; border: 1px solid #ccc;">{{ loop.index }}</td>
          <td style="padding: 10px; border: 1px solid #ccc;">{{ user.username }}</td>
          <td style="padding: 10px; border: 1px solid #ccc;">{{ user.email }}</td>
          <td style="padding: 10px; border: 1px solid #ccc;">{{ user.role }}</td>
          <td style="padding: 10px; border: 1px solid #ccc;">date</td>
          <td style="padding: 10px; border: 1px solid #ccc;">
            <a href="{{ url_for('main_bp.edit_user', user_id=user.id) }}" style="margin-right: 10px;">✏️ Edit</a>
            <a href="{{ url_for('main_bp.delete_user', user_id=user.id) }}" style="color: red;">🗑️ Delete</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% else %}
    <p>No users found.</p>
    {% endif %}
  </div>
</div>

<div class="dashboard-activity">
  <div class="dashboard-box" style="width: fit-content;">
    <p>Quick Links</p>
    <ul class="dashboard-list">
      <li><a href="{{ url_for('main_bp.dashboard') }}"> Back to Dashboard</a></li>
      <li><a href="{{ url_for('main_bp.register_by_admin') }}"> Register New User</a></li>
    </ul>
  </div>
</div>
{% endblock %}
